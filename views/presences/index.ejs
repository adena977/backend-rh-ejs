

<main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg">


  <div class="container-fluid py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h4 class="mb-0">Liste des pr√©sences</h4>
           <a href="/presences/scan" class="btn btn-primary">scanner votre presence</a>
      <a href="/presences/ajouter" class="btn btn-primary">‚ûï Ajouter une pr√©sence</a>
      
    </div>



    <div class="table-responsive">
      <table class="table table-bordered align-middle">
        <thead class="table-light">
          <tr>
            <th>#</th>
            <th>Employ√©</th>
            <th>Date</th>
            <th>Heure d‚Äôarriv√©e</th>
            <th>Heure de d√©part</th>
            <th>Statut</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% if (presences.length === 0) { %>
            <tr><td colspan="7" class="text-center">Aucune pr√©sence enregistr√©e</td></tr>
          <% } else { %>
            <% presences.forEach((p, index) => { %>
              <tr>
                <td><%= index + 1 %></td>
                <td><%= p.nom %> <%= p.prenom %></td>
                <td><%= p.date.toISOString().split('T')[0] %></td>
                <td><%= p.heure_arrivee ? p.heure_arrivee.slice(0, 5) : '-' %></td>
                <td><%= p.heure_depart ? p.heure_depart.slice(0, 5) : '-' %></td>
                <td>
                  <% if (p.statut === 'pr√©sent') { %>
                    <span class="badge bg-success">Pr√©sent</span>
                  <% } else if (p.statut === 'absent') { %>
                    <span class="badge bg-danger">Absent</span>
                  <% } else { %>
                    <span class="badge bg-secondary"><%= p.statut %></span>
                  <% } %>
                </td>
                <td>
                  <a href="/presences/modifier/<%= p.id %>" class="btn btn-sm btn-warning">‚úèÔ∏è</a>
                  <form action="/presences/supprimer/<%= p.id %>?_method=POST" method="POST" class="d-inline" onsubmit="return confirm('Supprimer cette pr√©sence ?')">
                    <button type="submit" class="btn btn-sm btn-danger">üóëÔ∏è</button>
                  </form>
                </td>
              </tr>
            <% }) %>
          <% } %>
        </tbody>
      </table>
    </div>
  </div>
</main>


