<%- include('../partials/head') %>

<div class="container-fluid py-4">
  <div class="card">
    <div class="card-header pb-0">
      <h5>Modifier la fiche de paie</h5>
    </div>
    <div class="card-body">
      <form action="/fiche_paie/<%= fiche.id %>?_method=PUT" method="POST">

        <!-- Employ√© -->
        <div class="mb-3">
          <label for="employe_id" class="form-label">Employ√©</label>
          <select name="employe_id" id="employe_id" class="form-control" required>
            <% employes.forEach(emp => { %>
              <option value="<%= emp.id %>" <%= fiche.employe_id == emp.id ? 'selected' : '' %>>
                <%= emp.nom %> <%= emp.prenom %>
              </option>
            <% }) %>
          </select>
        </div>

        <!-- Mois -->
        <div class="mb-3">
          <label for="mois" class="form-label">Mois</label>
          <input type="number" name="mois" class="form-control" value="<%= fiche.mois %>" required>
        </div>

        <!-- Ann√©e -->
        <div class="mb-3">
          <label for="annee" class="form-label">Ann√©e</label>
          <input type="number" name="annee" class="form-control" value="<%= fiche.annee %>" required>
        </div>

        <!-- Salaire brut -->
        <div class="mb-3">
          <label for="salaire_brut" class="form-label">Salaire brut</label>
          <input type="text" name="salaire_brut" class="form-control" value="<%= fiche.salaire_brut %>" readonly>
        </div>

        <!-- Heures suppl√©mentaires -->
        <div class="mb-3">
          <label for="heures_sup" class="form-label">Heures suppl√©mentaires</label>
          <input type="number" step="0.01" name="heures_sup" class="form-control" value="<%= fiche.heures_sup %>" required>
        </div>

        <!-- Prime -->
        <div class="mb-3">
          <label for="prime" class="form-label">Prime</label>
          <input type="number" step="0.01" name="prime" class="form-control" value="<%= fiche.prime %>" required>
        </div>

        <!-- Retenue -->
        <div class="mb-3">
          <label for="retenue" class="form-label">Retenue</label>
          <input type="number" step="0.01" name="retenue" class="form-control" value="<%= fiche.retenue %>" required>
        </div>

        <button type="submit" class="btn btn-success">üíæ Enregistrer les modifications</button>
        <a href="/fiche_paie" class="btn btn-secondary">‚Ü©Ô∏è Retour</a>
      </form>
    </div>
  </div>
</div>

