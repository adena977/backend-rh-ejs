<div class="container">
    <h2>Modifier le congé</h2>
    <form action="/conges/modifier/<%= conge.id %>" method="POST">
        <div class="mb-3">
            <label for="employe_id">Employé</label>
            <select name="employe_id" class="form-select" required>
                <% employes.forEach(e=> { %>
                    <option value="<%= e.id %>" <%=e.id===conge.employe_id ? 'selected' : '' %>><%= e.nom %>
                            <%= e.prenom %>
                    </option>
                    <% }) %>
            </select>
        </div>
        <div class="mb-3">
            <label>Type</label>
            <input type="text" name="type" class="form-control" value="<%= conge.type %>" required>
        </div>
        <div class="mb-3">
            <label>Motif</label>
            <textarea name="motif" class="form-control"><%= conge.motif %></textarea>
        </div>
        <div class="mb-3">
            <label>Date début</label>
            <input type="date" name="date_debut" class="form-control"
                value="<%= conge.date_debut.toISOString().split('T')[0] %>" required>
        </div>
        <div class="mb-3">
            <label>Date fin</label>
            <input type="date" name="date_fin" class="form-control"
                value="<%= conge.date_fin.toISOString().split('T')[0] %>" required>
        </div>
        <div class="mb-3">
            <label>Statut</label>
            <select name="statut" class="form-select">
                <option value="en attente" <%=conge.statut==='en attente' ? 'selected' : '' %>>En attente</option>
                <option value="accepté" <%=conge.statut==='accepté' ? 'selected' : '' %>>Accepté</option>
                <option value="refusé" <%=conge.statut==='refusé' ? 'selected' : '' %>>Refusé</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Mettre à jour</button>
    </form>
</div>